{% extends "users/_base.html" %}

{% block side_panel %}
  <div class="usr-Index">
    <div class="usr-Index_Panel">
      <header class="usr-Index_PanelHeader">
        {% if  user == object %}
          <h3 class="usr-Index_PanelTitle">Activity <strong class="usr-Index_Emphasis">stream</strong></h3>
        {% else %}
          <h3 class="usr-Index_PanelTitle">{{ object }}'s <strong class="usr-Index_Emphasis">activity</strong></h3>
        {% endif %}
      </header>

      {# If the user is looking at his own profile show his followers activity #}
      {% if user == object %}
        <div class="usr-Index_PanelBody">
          <div class="act-Actions">
            <ul class="act-Actions_Items">
              {% for action in following_actions %}
                <li class="act-Actions_Item">{{ action.html__str__ }}</li>
              {% endfor %}
            </ul>
          </div>
        </div>
      {% else %}
        <div class="usr-Index_PanelBody">
          <div class="act-Actions">
            <ul class="act-Actions_Items">
              {% for action in actions %}
                <li class="act-Actions_Item">{{ action.html__str__ }}</li>
              {% endfor %}
            </ul>
          </div>
        </div>
      {% endif %}
    </div>

    <div class="usr-Index_Right">
      {% if object.about_me %}
        <div class="usr-Index_Panel">
          <header class="usr-Index_PanelHeader">
            <h3 class="usr-Index_PanelTitle"><strong class="usr-Index_Emphasis">About</strong> {{ object }}</h3>
          </header>
          <div class="usr-Index_PanelBody">
            <p class="typ-Text">{{ object.about_me }}</p>
          </div>
        </div>
      {% endif %}
    </div>
  </div>
{% endblock %}

{% block aside_blocks %}
  <div class="asi-Block">
    <h3 class="typ-Title typ-Title-small">{{ object }}'s details</h3>

    <p class="typ-Text"><strong>User #</strong>: {{ object.id }}</p>
    <p class="typ-Text"><strong>Joined</strong>: {{ object.created | date('jS F Y') }}</p>
    <p class="typ-Text"><strong>Last login</strong>: {{ object.last_login | date('jS F Y') }}</p>
  </div>

  {% if object.psn or object.xbox or object.origin %}
    <div class="asi-Block">
      <h3 class="typ-Title typ-Title-small">{{ object }}'s platform names</h3>

      <ul class="soc-Socials">
        {% if object.psn %}
          <li class="soc-Socials_Item">
            <div class="soc-Social soc-Social-psn">
              {% include 'playstation.svg' %}

              <p class="soc-Social_Overlay">{{ object.psn }}</p>
            </div>
          </li>
        {% endif %}

        {% if object.xbox %}
          <li class="soc-Socials_Item">
            <div class="soc-Social soc-Social-xbox">
              {% include 'xbox.svg' %}

              <p class="soc-Social_Overlay">{{ object.xbox }}</p>
            </div>
          </li>
        {% endif %}

        {% if object.origin %}
          <li class="soc-Socials_Item">
            <div class="soc-Social soc-Social-origin">
              {% include 'pc.svg' %}

              <p class="soc-Social_Overlay">{{ object.origin }}</p>
            </div>
          </li>
        {% endif %}
      </ul>
    </div>
  {% endif %}

  {% if object.twitter or object.youtube or object.twitch or object.facebook %}
    <div class="asi-Block">
      <h3 class="typ-Title typ-Title-small">{{ object }}'s social channels</h3>

      <ul class="soc-Socials">
        {% if object.twitter %}
          <li class="soc-Socials_Item">
            <a class="soc-Social soc-Social-twitter" href="#1">{% include 'twitter.svg' %}</a>
          </li>
        {% endif %}

        {% if object.youtube %}
          <li class="soc-Socials_Item">
            <a class="soc-Social soc-Social-youtube" href="#1">{% include 'youtube.svg' %}</a>
          </li>
        {% endif %}

        {% if object.twitch %}
          <li class="soc-Socials_Item">
            <a class="soc-Social soc-Social-twitch" href="#1">{% include 'twitch.svg' %}</a>
          </li>
        {% endif %}

        {% if object.facebook %}
          <li class="soc-Socials_Item">
            <a class="soc-Social soc-Social-facebook" href="#1">{% include 'facebook.svg' %}</a>
          </li>
        {% endif %}
      </ul>
    </div>
  {% endif %}

  {% if object.favourite_player or object.favourite_club or object.favourite_nation %}
    <div class="asi-Block">
      <h3 class="typ-Title typ-Title-small">{{ object }}'s favourites</h3>

      <p>{{ object.favourite_player }}</p>
      <p>{{ object.favourite_club }}</p>
      <p>{{ object.favourite_nation }}</p>
    </div>
  {% endif %}
{% endblock %}
