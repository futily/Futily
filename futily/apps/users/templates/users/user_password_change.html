{% extends "users/_base.html" %}

{% block content_above_text %}Change password{% endblock %}

{% block side_panel %}
  <form class="frm-Form" method="POST">
    {% csrf_token %}

    <fieldset class="frm-Form_Fieldset">
      <header class="frm-Form_FieldsetHeader">
        <legend class="frm-Form_Legend">Change password</legend>
        <p class="frm-Form_LegendHelp">
          {% trans %}Please enter your old password, for security's sake, and then enter your new password twice so we can verify you typed it in correctly.{% endtrans %}
        </p>

        {% if form.errors %}
          <div class="pn-Panel pn-Panel-error">
            <p class="pn-Panel_Text">
              {% if form.errors.items|length == 1 %}{% trans %}Please correct the error below.{% endtrans %}{% else %}{% trans %}Please correct the errors below.{% endtrans %}{% endif %}
            </p>
          </div>
        {% endif %}
      </header>

      <div class="frm-Form_FieldsetBody">
        <div class="frm-Form_Items">
          <div class="frm-Form_Item">
            {{ form.old_password.errors }}
            <label class="frm-Form_Label" for="{{ form.old_password.id_for_label }}">
              Old password
            </label>

            {{ form.old_password }}
          </div>

          <div class="frm-Form_Item"></div>

          <div class="frm-Form_Item">
            {{ form.new_password1.errors }}
            <label class="frm-Form_Label" for="{{ form.new_password1.id_for_label }}">
              New password
            </label>

            {{ form.new_password1 }}

            {% if form.new_password1.help_text %}
              <div class="frm-Form_Extras">
                <p class="frm-Form_HelpText">{{ form.new_password1.help_text|safe }}</p>
              </div>
            {% endif %}
          </div>

          <div class="frm-Form_Item">
            {{ form.new_password2.errors }}
            <label class="frm-Form_Label" for="{{ form.new_password2.id_for_label }}">
              Confirm new password
            </label>

            {{ form.new_password2 }}

            {% if form.new_password2.help_text %}
              <div class="frm-Form_Extras">
                <p class="frm-Form_HelpText">{{ form.new_password2.help_text|safe }}</p>
              </div>
            {% endif %}
          </div>
        </div>
      </div>
    </fieldset>

    <div class="frm-Form_Actions">
      <button class="frm-Form_Submit btn-Primary">
        {% trans %}Change my password{% endtrans %}
      </button>
    </div>
  </form>
{% endblock %}
