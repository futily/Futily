{% extends "base.html" %}

{% block content_above %}
  <div class="pg-Strapline">
    <div class="pg-Strapline_Inner">
      <div class="pg-Strapline_Body">
        <div class="pg-Strapline_Content">
          <h1 class="pg-Strapline_Title">{{ pages.current }}</h1>
          <p class="pg-Strapline_Text">Fifa {{ settings.CURRENT_FIFA_VERSION }} pack opener</p>
        </div>

        <div class="pg-Strapline_Advert">
          <img alt="" src="http://placehold.it/728x90">
        </div>
      </div>
    </div>
  </div>

  <div class="pg-Breadcrumbs">
    <div class="pg-Breadcrumbs_Inner">
      <div class="pg-Breadcrumbs_Body">
        <nav class="bdc-Breadcrumb">
          <div class="bdc-Breadcrumb_Items"
               itemscope=""
               itemtype="http://schema.org/BreadcrumbList">
            <div class="bdc-Breadcrumb_Item"
                 itemprop="itemListElement"
                 itemscope=""
                 itemtype="http://schema.org/ListItem">
              <a itemprop="item" class="bdc-Breadcrumb_Link" href="/">
                <span itemprop="name">
                  Home
                </span>
                <meta itemprop="position" content="1">
              </a>
            </div>

            <div class="bdc-Breadcrumb_Divider">
              {% include 'angle-down.svg' %}
            </div>

            <div class="bdc-Item"
                 itemprop="itemListElement"
                 itemscope=""
                 itemtype="http://schema.org/ListItem">
              <span itemprop="name">
                Packs
              </span>
              <meta itemprop="position" content="2">
            </div>
          </div>
        </nav>
      </div>
    </div>
  </div>
{% endblock %}

{% block main %}
  <div class="pck-TypeList">
    <ul class="pck-TypeList_Items">
      {% for key, value in type_list.items() %}
        {% if value.types %}
          <li class="pck-TypeList_Item">
            <div class="pck-Type">
              <h2 class="pck-Type_Title">
                <span class="pck-Type_Emphasis">{{ value.title }}</span> packs
              </h2>

              <ul class="pck-Type_Items">
                {% for type in value.types %}
                  <li class="pck-Type_Item">
                    <div class="pck-Pack pck-Pack-{{ key }}">
                      {{ type.render_image() }}

                      <div class="pck-Pack_Summary">
                        <h3 class="pck-Pack_Title">{{ type.title }}</h3>

                        <ul class="pck-Pack_Shields">
                          <li class="pck-Pack_Shield pck-Pack_Shield-count">
                            <p class="pck-Pack_ShieldValue">{{ type.total_count }}</p>
                            <p class="pck-Pack_ShieldKey">Items</p>
                          </li>

                          <li class="pck-Pack_Shield pck-Pack_Shield-{{ key }}">
                            <p class="pck-Pack_ShieldValue">{{ getattr(type, '{}_count'.format(key)) }}</p>
                            <p class="pck-Pack_ShieldKey">{{ value.title }}</p>
                          </li>

                          <li class="pck-Pack_Shield pck-Pack_Shield-rare">
                            <p class="pck-Pack_ShieldValue">{{ type.rare_count }}</p>
                            <p class="pck-Pack_ShieldKey">Rare</p>
                          </li>
                        </ul>

                        <p class="pck-Pack_Description">{{ type.description }}</p>

                        <a class="pck-Pack_Link btn-Primary" href="{{ type.get_absolute_url() }}">Open pack</a>
                      </div>
                    </div>
                  </li>
                {% endfor %}
              </ul>
            </div>
          </li>
        {% endif %}
      {% endfor %}
    </ul>
  </div>
{% endblock %}

{% block aside %}
  <div class="asi-Blocks">
    <div class="asi-Block">
      <img alt="" src="http://placehold.it/300x250">
    </div>
  </div>
{% endblock %}
