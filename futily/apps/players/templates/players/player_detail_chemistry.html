{% extends "players/_base.html" %}
{% import "players/macros/players.html" as player_macros %}

{% block breadcrumbs %}
  <div class="pg-Breadcrumbs">
    <div class="pg-Breadcrumbs_Inner">
      <div class="pg-Breadcrumbs_Body">
        <nav class="bdc-Breadcrumb">
          <div class="bdc-Breadcrumb_Items"
               itemscope=""
               itemtype="http://schema.org/BreadcrumbList">
            <div class="bdc-Breadcrumb_Item"
                 itemprop="itemListElement"
                 itemscope=""
                 itemtype="http://schema.org/ListItem">
              <a itemprop="item" class="bdc-Breadcrumb_Link" href="/">
                <span itemprop="name">
                  Home
                </span>
                <meta itemprop="position" content="1">
              </a>
            </div>

            <div class="bdc-Breadcrumb_Divider">
              {% include 'angle-down.svg' %}
            </div>

            <div class="bdc-Breadcrumb_Item"
                 itemprop="itemListElement"
                 itemscope=""
                 itemtype="http://schema.org/ListItem">
              <a itemprop="item"
                 class="bdc-Breadcrumb_Link"
                 href="{{ pages.current.get_absolute_url() }}">
                <span itemprop="name">
                  {{ object._meta.app_label | capitalize() }}
                </span>
                <meta itemprop="position" content="2">
              </a>
            </div>

            <div class="bdc-Breadcrumb_Divider">
              {% include 'angle-down.svg' %}
            </div>

            <div class="bdc-Item"
                 itemprop="itemListElement"
                 itemscope=""
                 itemtype="http://schema.org/ListItem">
              <a itemprop="item"
                 class="bdc-Breadcrumb_Link"
                 href="{{ player.get_absolute_url() }}">
                <span itemprop="name">
                  {{ object }}
                </span>
                <meta itemprop="position" content="3">
              </a>
            </div>

            <div class="bdc-Breadcrumb_Divider">
              {% include 'angle-down.svg' %}
            </div>

            <div class="bdc-Item"
                 itemprop="itemListElement"
                 itemscope=""
                 itemtype="http://schema.org/ListItem">
              <span itemprop="name">
                Chemistry
              </span>
              <meta itemprop="position" content="4">
            </div>
          </div>
        </nav>
      </div>
    </div>
  </div>
{% endblock %}

{% block body %}
  {% set perfect_players = player.get_initial_chemistry_players('perfect') %}
  {% set strong_players = player.get_initial_chemistry_players('strong') %}
  {% set weak_players = player.get_initial_chemistry_players('weak') %}

  {% if perfect_players %}
    <div class="plyr-Detail_Section">
      <header class="plyr-Detail_SectionHeader">
        <h3 class="plyr-Detail_Title">
          <strong class="plyr-Detail_Emphasis">Perfect</strong> players
        </h3>

        <a class="plyr-Detail_Link"
           href="{{ player.get_chemistry_type_absolute_url('perfect') }}">View all perfect players
        </a>
      </header>

      <div class="plyr-Detail_SectionBody">
        {{ player_macros.card_list(perfect_players) }}
      </div>
    </div>
  {% endif %}

  {% if strong_players %}
    <div class="plyr-Detail_Section">
      <header class="plyr-Detail_SectionHeader">
        <h3 class="plyr-Detail_Title">
          <strong class="plyr-Detail_Emphasis">Strong</strong> players
        </h3>

        <a class="plyr-Detail_Link"
           href="{{ player.get_chemistry_type_absolute_url('strong') }}">View all strong players
        </a>
      </header>

      <div class="plyr-Detail_SectionBody">
        {{ player_macros.card_list(strong_players) }}
      </div>
    </div>
  {% endif %}

  {% if weak_players %}
    <div class="plyr-Detail_Section">
      <header class="plyr-Detail_SectionHeader">
        <h3 class="plyr-Detail_Title">
          <strong class="plyr-Detail_Emphasis">Weak</strong> players
        </h3>

        <a class="plyr-Detail_Link"
           href="{{ player.get_chemistry_type_absolute_url('weak') }}">View all weak players
        </a>
      </header>

      <div class="plyr-Detail_SectionBody">
        {{ player_macros.card_list(weak_players) }}
      </div>
    </div>
  {% endif %}
{% endblock %}
