{% if page_obj.has_other_pages() %}
  <nav class="pgn-Pagination">
    {% macro prev_control() %}
      <span class="pgn-Pagination_ControlSVG">&laquo;</span>

      <span class="pgn-Pagination_ControlText">Previous</span>
    {% endmacro %}

    {% if page_obj.has_previous() %}
      <a class="pgn-Pagination_Control pgn-Pagination_Control-prev"
         href="{{ get_pagination_url(page_obj.previous_page_number()) }}"
         rel="prev">
        {{ prev_control() }}
      </a>
    {% else %}
      <button class="pgn-Pagination_Control pgn-Pagination_Control-prev"
              type="submit"
              aria-disabled="true"
              disabled>
        {{ prev_control() }}
      </button>
    {% endif %}

    <div class="pgn-Pagination_Items">
      {% macro item(loop, page) %}
        <div class="pgn-Pagination_Item"
             {% if loop.index == page_obj.number %}aria-current="page"{% endif %}>
          <a class="pgn-Pagination_Link" href="{{ get_pagination_url(page) }}">{{ page }} <span class="pgn-Pagination_LinkOf">of {{ page_obj.paginator.num_pages }}</span></a>
        </div>
      {% endmacro %}

      {% for page in page_obj.paginator.page_range %}
        {% if loop.first or loop.last or loop.index in offset_indexes %}

          {{ item(loop, page) }}

        {% else %}

          {# We'll ellipsis the first item before the offset_indexes unless it is the 2nd item #}
          {% if page_obj.paginator.num_pages != page_obj.number - (offset + 1) and page_obj.number - (offset + 1) == loop.index %}

            {% if loop.index == 2 %}

              {{ item(loop, page) }}

            {% else %}

              <div class="pgn-Pagination_Item">
                <button class="pgn-Pagination_Link" type="button" disabled>&hellip;</button>
              </div>

            {% endif %}

            {# Same as above just on the first index after the offset_indexes #}
          {% elif page_obj.paginator.num_pages != page_obj.number + (offset + 1) and page_obj.number + (offset + 1) == loop.index %}

            {% if loop.index == page_obj.paginator.num_pages - 1 %}

              {{ item(loop, page) }}

            {% else %}

              <div class="pgn-Pagination_Item">
                <button class="pgn-Pagination_Link" type="button" disabled>&hellip;</button>
              </div>

            {% endif %}

          {% endif %}

        {% endif %}

      {% endfor %}
    </div>

    {% macro next_control() %}
      <span class="pgn-Pagination_ControlText">Next</span>

      <span class="pgn-Pagination_ControlSVG">&raquo;</span>
    {% endmacro %}

    {% if page_obj.has_next() %}
      <a class="pgn-Pagination_Control pgn-Pagination_Control-next"
         href="{{ get_pagination_url(page_obj.next_page_number()) }}"
         rel="next">
        {{ next_control() }}
      </a>
    {% else %}
      <button class="pgn-Pagination_Control pgn-Pagination_Control-next"
              type="submit"
              aria-disabled="true"
              disabled>
        {{ next_control() }}
      </button>
    {% endif %}
  </nav>
{% endif %}
